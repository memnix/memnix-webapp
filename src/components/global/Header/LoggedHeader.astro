---
import { LanguageSelector } from "astro-i18next/components"
import { localizePath } from "astro-i18next"
import { Icon } from "astro-iconify"
import SearchHeader from "./SearchHeader.tsx"
import Logo from "../../../assets/img/icon.png"
import { IUser } from "../../../../common/types/api"

interface Props {
	user: IUser
}
const { user } = Astro.props
const avatar = user.avatar
	? user.avatar
	: "https://source.boringavatars.com/beam/120/" +
	  user.username +
	  "?colors=070705,3E4B51,6F737E,89A09A,C1C0AE"
---

<div class="navbar md:px-5 transition-all">
	<div class="navbar-start">
		<a class="" href={"/"} rel="prefetch">
			<span
				class="self-center ml-2 text-2xl md:text-xl font-bold whitespace-nowrap flex items-center hoveranimation"
			>
				<img
					src={Logo.src}
					class="inline-block mr-1 w-12"
					loading={"eager"}
					decoding={"async"}
					alt="Logo"
					width={64}
					height={64}
				/>
				<h2
					class="from-primary via-[#DF9594] via-[#CC7F97] via-[#AD6E9E] via-[#8163A2] to-secondary bg-clip-text text-4xl font-bold text-primary dark:bg-gradient-to-r dark:text-transparent"
				>
					Memnix
				</h2>
			</span>
		</a>
	</div>
	<div class="navbar-end">
		<SearchHeader client:idle class="" />

		<LanguageSelector
			showFlag={true}
			class="hidden md:block my-select-class select select-bordered select-md w-full max-w-[10rem] text-base-content px-5"
		/>

		<div class="dropdown dropdown-end pl-5 w-16">
			<label
				tabindex="0"
				class="avatar rounded-xl mask mask-squircle hover:cursor-pointer"
			>
				<img
					src={avatar}
					loading={"eager"}
					decoding={"async"}
					width={64}
					height={64}
				/>
			</label>
			<ul
				tabindex="0"
				class="menu dropdown-content p-2 shadow bg-base-100 rounded-box w-52 mt-4"
			>
				<li><a href="/logout">logout</a></li>
			</ul>
		</div>
	</div>
</div>
